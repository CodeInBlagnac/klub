<template name="nextKlubsView">
  {{#each klubs}}
    {{> nextKlubView}}
  {{/each}}
</template>

<template name="nextKlubView">
  <article class="knext-session col-xs-12 col-sm-6 col-md-4">
    <div class="panel panel-primary">
      <div class="panel-heading">
        <h1 class="panel-title text-left">
          <span class="glyphicon {{klubGlyph type}}" style="color:white"></span>
          <span class="heading-title">Klub de {{type}} {{#if date}} le {{ISOToFr date}} {{else}} : pas encore de date {{/if}}</span>
        </h1>
      </div>
      <div class="panel-body">
        {{#if stateIs 'choixAssoci√©'}}
          <h4>Etape 3 - Sujet choisi</h4>
            {{> bookNextView id=book_id}}
        {{/if}}
        {{#if stateIs 'voteEnCours'}}
          <h4>Etape 2 - Vote en cours</h4>
          <h5>{{#if dateprop}}Date limite pour le vote : jusqu'au {{dateprop}}{{/if}}</h5>
        {{/if}}
        {{#if stateIs 'propositions'}}
          <h4>Etape 1 - Propositions en cours</h4>
          <h5>Actuellement, le nombre de propositions est de :
            {{#if typeIs 'lecture'}} {{proposedBooksCount}}{{/if}}
            {{#if typeIs 'jeu'}} {{proposedGamesCount}}{{/if}}
            {{#if typeIs 'scribing'}} {{proposedVideosCount}}{{/if}}
          </h5>
        {{/if}}
      </div>
      <div class="panel-footer clearfix">
          <a href="{{pathFor 'detailedNextKlub'}}">
            <button class="detailNext btn btn-primary col-xs-offset-2 col-md-offset-4">En savoir plus sur ce klub</button>
          </a>
      </div>
    </div>
  </article>
</template>
